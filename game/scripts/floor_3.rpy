label floor_3:
    # 길고 어두운 복도. 축축한 시멘트 바닥에 무언가 끌리는 소리가 들리고, 피와 녹이 섞인 냄새가 난다.
    scene bg_3f_mental with dissolve
    
    "길고 어두운 복도. 저 끝에서 무언가 오고 있다."
    "처음에는 단순한 발소리라고 생각했다. 하지만 이젠 아니다. 저건... 축축한 시멘트 바닥에 무언가 질질 끌리는 소리다."
    "역한 냄새가 공기를 타고 먼저 도착했다. 오래된 피와 녹이 뒤섞인 듯한 비릿한 냄새."

    "그게 다가오고 있다."
    "숨소리는 거칠고, 발걸음은 무겁다."
    "공기가 무겁게 짓누른다."

    "이대로 가만히 있으면... 분명 나를 발견할 것이다."
    "지나갈 수도 있을까? 아니, 저것은 나를 '알고' 온다. 나를 잡으러 온 것이다."
    "숨을 곳이 필요해."
    
    "눈을 감고 싶다."
    "아무것도 못 본 척하고 싶다."
    
    menu:
        "숨는다 (벽장 안으로 조용히 들어간다)":
            jump hide_3
        "달린다 (이대로 도망치는 수밖에 없어)":
            jump bad_ending_3

label hide_3:
    "나는 낡은 벽장 안으로 몸을 구겨 넣었다. 삐걱이는 소리가 날까 봐 심장이 철렁 내려앉았다."
    "나무 틈새로 복도를 엿보자, '그것'이 지나가고 있었다."
    "들키면 안 돼... 심장 소리마저 죽여야 한다."

    # 미니게임: 심장박동 숨기기
    call screen minigame_heartbeat

    if _return:
        "괴물이 지나갔다."
        "심장이 터질 듯이 뛰고, 몸이 떨렸다."
        "나는 한참이 지나서야 조심스럽게 벽장에서 빠져나왔다."
        
        menu:
            "그대로 나아간다 (숨을 고르고, 다음 층으로 간다)":
                jump floor_2
            "돌아본다 (놈의 정체를 직접 확인한다)" if flag_clue_1 and flag_clue_2 and flag_clue_3:
                jump turn_around_3
    else:
        "너무 긴장한 탓에, 공포에 질린 내 숨소리가 새어 나가고 말았다."
        "복도를 지나가던 '그것'의 움직임이... 멈췄다."
        "끼익- 벽장 문이 뜯겨져 나가며, 나는 그것과 마주했다."
        jump bad_ending_3

label turn_around_3:
    "복도 끝에 흐릿한 형체가 보인다."
    "등을 돌리고 있는 모습은... 낯익은 그림자였다."
    "괴물이 잠시 멈칫하는 것을 보았다."
    
    $ renpy.sound.play(sfx_clue_gain)
    $ flag_clue_4 = True
    jump floor_2